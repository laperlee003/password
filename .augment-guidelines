# 密码管理工具 - 代码结构与开发指南

## 项目概述
这是一个基于 Electron 的本地密码管理工具，采用加密存储方式保护用户密码信息。

## 技术栈
- **框架**: Electron 25.3.1
- **前端**: 原生 HTML/CSS/JavaScript
- **加密**: 自定义字符串编码解码算法
- **存储**: electron-store (本地文件存储)
- **构建**: electron-builder

## 项目结构

### 核心架构
```
├── main.js                 # 应用入口
├── init.js                 # 初始化配置
├── core/                   # 核心模块
│   ├── index.js           # 主控制器
│   ├── main.js            # 主窗口类
│   └── dialog.js          # 对话框类
├── electronLee/           # 自定义 Electron 框架
│   ├── window.js          # 窗口基类
│   ├── page.js            # 页面管理
│   ├── message.js         # 消息通信
│   └── request.js         # 请求处理
└── application/           # 应用层
    ├── index.js           # 应用配置
    ├── page/              # 页面文件
    ├── helper/            # 工具类
    ├── exception/         # 异常处理
    └── resource/          # 静态资源
```

### 页面结构
- **init页面**: 密钥设置和验证
- **index页面**: 主界面，密码管理功能

### 核心功能模块

#### 1. 密码加密存储 (passwordHelper.js)
- 使用用户自定义密钥进行加密
- 密钥可选择保存（使用主机名加密）
- 支持密码的增删改查操作

#### 2. 文件存储 (fileHelper.js)
- 基于 electron-store 的本地存储
- 加密后的密码数据存储
- 密钥信息的安全存储

#### 3. UI交互系统
- 自定义窗口框架
- IPC 通信机制
- 托盘集成

## 开发规范

### 代码组织
1. **分层架构**: 严格按照 core -> electronLee -> application 的层次结构
2. **模块化**: 每个功能模块独立，便于维护
3. **配置分离**: 页面配置通过 JSON 文件管理

### 命名规范
- 文件名: 小驼峰命名 (camelCase)
- 类名: 大驼峰命名 (PascalCase)
- 变量/函数: 小驼峰命名 (camelCase)

### 异常处理
- 使用自定义异常类 (AlertException)
- 统一的异常处理机制
- 用户友好的错误提示

## 安全特性
1. **本地存储**: 所有数据存储在本地，不涉及网络传输
2. **加密算法**: 自定义的字符串编码解码算法
3. **密钥管理**: 支持临时密钥和持久化密钥两种模式
4. **主机绑定**: 持久化密钥与主机名绑定，增强安全性

## 构建与部署
- 开发: `npm start`
- 构建: `npm run make`
- 支持 Windows x64 平台

## 依赖管理
### 核心依赖
- electron: 主框架
- electron-store: 数据存储
- electron-updater: 自动更新
- log4js: 日志记录
- compressing: 压缩功能

### 开发依赖
- electron-builder: 应用打包

## 注意事项
1. **密钥安全**: 建议用户不要保存密钥，每次启动时手动输入
2. **主机名变更**: 如果保存了密钥，更改主机名会导致密钥失效
3. **数据备份**: 重要密码数据建议定期备份
4. **版本兼容**: 当前使用较新的 Electron 版本，注意 API 兼容性

## 扩展建议
1. **导入导出功能**: 支持密码数据的导入导出
2. **密码生成器**: 集成强密码生成功能
3. **分类管理**: 支持密码分类和标签
4. **搜索功能**: 增强密码搜索和过滤
5. **多语言支持**: 国际化支持
6. **主题系统**: 支持多种UI主题
